###############################################
# LanternWave 2.0 â€” Correct Netlify Config
# Supports: Next.js 16, SSR, API routes, Neon DB
###############################################

[build]
  command = "next build"
  publish = ".next"
  node_version = "20"

[build]
  command = "next build"
  publish = ".next"
  edge_functions = "edge-functions"

[functions]
  directory = "netlify/functions"
  node_bundler = "esbuild"
  external_node_modules = ["@neondatabase/serverless"]

[[edge_functions]]
  function = "next_api"
  path = "/api/*"

[[plugins]]
  package = "@netlify/plugin-nextjs"

[[redirects]]
  from = "/player"
  to = "/"
  status = 200

[[redirects]]
  from = "/campaign-manager"
  to = "/"
  status = 200

[[redirects]]
  from = "/search"
  to = "/"
  status = 200
